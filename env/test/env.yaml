# Backend
bucket: "tfstate-mlops-test"
dynamodb_table: "terraform-state-locks"

# Project
availability_zones: ["eu-west-2a", "eu-west-2b"]
cidr_block: "10.155.48.0/20"
environment: "test"
profile: "digicat-mlops"
project: "mlops"
region: "eu-west-2"
stage: "pipeline"

# Clusters
ami_type: "AL2_x86_64"
capacity_type: "SPOT"
desired_size: 4
kubernetes_version: "1.30"
instance_types: ["t3.small"]
max_size: 5
min_size: 3

# GPU-specific clusters
# ami_type: "AL2_x86_64_GPU"
# capacity_type: "ON_DEMAND"
# desired_size: 1
# kubernetes_version: "1.30"
# instance_types: ["g4dn.xlarge"]
# max_size: 1
# min_size: 1

# EBS/EFS CSI driver add-ons
enable_addons: true
addons: [
  {
    addon_name: "aws-ebs-csi-driver",
    addon_version: "v1.32.0-eksbuild.1",
    service_account_role_arn: arn:aws:iam::058264114863:role/AmazonEKS_EBS_CSI_DriverRole
  },
  {
    addon_name: "aws-efs-csi-driver",
    addon_version: "v2.0.5-eksbuild.1",
    service_account_role_arn: arn:aws:iam::058264114863:role/AmazonEKS_EFS_CSI_DriverRole
  }
]

# Flux GitOps
flux_version: "v2.3.0"
flux_path: "flux/cluster/eks"
flux_secret_name: "sops-gpg"
github_org: "digicatapult"
github_repository: "bridgeai-gitops-infra"
github_branch: "feature/eks_terraform"
github_user: ""
github_private_key: ""
